{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/imagesApi.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["Searchbar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","webformatURL","largeImageURL","tags","src","alt","ImageGallery","images","onClick","map","Button","axios","defaults","baseURL","searchQuery","currentPage","get","then","response","data","hits","Modal","handleKeydown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","children","App","isLoaded","error","showModal","LargeUrl","tag","onChangeQuery","fetchImages","options","imagesApi","prevState","catch","finally","toggleModal","onImageClick","console","log","nodeName","largeUrl","dataset","url","prevProps","length","scrollTo","top","document","documentElement","scrollHeight","behavior","shouldRenderMoreButton","message","color","height","width","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ca2bb8f0.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Searchbar.css';\nimport PropTypes from 'prop-types';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import './ImageGalleryItem.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ id, webformatURL, largeImageURL, tags }) => (\n  <li key={id} className=\"ImageGalleryItem\">\n    <img\n      src={webformatURL}\n      alt={tags}\n      data-url={largeImageURL}\n      className=\"ImageGalleryItem-image\"\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import './ImageGallery.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ images, onClick }) => (\n  <ul className=\"ImageGallery\" onClick={onClick}>\n    {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n      <ImageGalleryItem\n        key={id}\n        webformatURL={webformatURL}\n        largeImageURL={largeImageURL}\n        tags={tags}\n      />\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import './Button.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => (\n  <button className=\"Button\" onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import axios from 'axios';\n\nconst apiKey = '22567398-684356714182815f09d51f694';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst fetchData = ({ searchQuery = '', currentPage = 1 }) => {\n  return axios\n    .get(\n      `/?q=${searchQuery}&page=${currentPage}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default { fetchData };\n","import { Component } from 'react';\n// import { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './Modal.css';\n\n// const modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>\n      \n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n","import { Component } from 'react';\nimport './App.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport imagesApi from './services/imagesApi';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoaded: false,\n    error: null,\n    showModal: false,\n    LargeUrl: '',\n    tag: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, images } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.fetchImages();\n    }\n\n    if (images.length > 12) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      images: [],\n      currentPage: 1,\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = {\n      searchQuery,\n      currentPage,\n    };\n\n    this.setState({\n      isLoaded: true,\n    });\n\n    imagesApi\n      .fetchData(options)\n      .then(hits =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoaded: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onImageClick = e => {\n    console.log('Кликнули по картинке');\n    if (e.target.nodeName !== 'IMG') {\n      return;\n    }\n\n    this.setState(\n      {\n        largeUrl: e.target.dataset.url,\n        tags: e.target.alt,\n      },\n      () => console.log(this.state.tags),\n    );\n\n    this.toggleModal();\n  };\n\n  render() {\n    const { isLoaded, images, error, showModal, largeUrl, tag } = this.state;\n\n    const shouldRenderMoreButton = images.length > 0 && !isLoaded;\n\n    return (\n      <div className=\"container\">\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        {error && (\n          <h2>\n            Sorry something went wrong, try again later!(\n            {error.message})\n          </h2>\n        )}\n\n        <ImageGallery images={images} onClick={this.onImageClick} />\n\n        {isLoaded && (\n          <Loader type=\"Audio\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n\n        {shouldRenderMoreButton && <Button onClick={this.fetchImages} />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeUrl} alt={tag} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}